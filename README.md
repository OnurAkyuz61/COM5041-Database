# COM5041 - Database Design and Development

**Ã–ÄŸrenci**: Onur AkyÃ¼z  
**Ã–ÄŸrenci No**: 2200005590  
**Ãœniversite**: Ä°stanbul KÃ¼ltÃ¼r Ãœniversitesi  
**Akademik YÄ±l**: 2025-2026

## ğŸ“‹ Ders HakkÄ±nda

Bu repository, COM5041 Database Design and Development dersi kapsamÄ±nda yapÄ±lan laboratuvar Ã§alÄ±ÅŸmalarÄ±, Ã¶devler ve projelerini iÃ§ermektedir. Ders boyunca SQL Server, veritabanÄ± tasarÄ±mÄ±, SQL sorgularÄ±, stored procedure'ler ve veritabanÄ± gÃ¼venliÄŸi konularÄ±nda pratik uygulamalar gerÃ§ekleÅŸtirilmiÅŸtir.

## ğŸ“ Proje YapÄ±sÄ±

```
COM5041-Database/
â”œâ”€â”€ README.md                                    # Bu dosya
â”œâ”€â”€ Lab01 - SQL Server Installation/             # SQL Server kurulum ve yapÄ±landÄ±rma
â”œâ”€â”€ Lab02 - Assignment/                          # Ä°kinci hafta laboratuvar Ã¶devi
â”œâ”€â”€ Lab03 - Assignment/                          # ÃœÃ§Ã¼ncÃ¼ hafta laboratuvar Ã¶devi
â”œâ”€â”€ Lab04 - Assignment/                          # DÃ¶rdÃ¼ncÃ¼ hafta laboratuvar Ã¶devi
â”‚   â”œâ”€â”€ LAB04_Assignment.pdf                    # Ã–dev talimatlarÄ±
â”‚   â”œâ”€â”€ procedure1.sql                          # Rol oluÅŸturma ve yetki verme
â”‚   â”œâ”€â”€ procedure2.sql                          # Login ve kullanÄ±cÄ± yÃ¶netimi
â”‚   â””â”€â”€ procedure3.sql                          # Temizleme iÅŸlemleri
â”œâ”€â”€ Lab05/                                       # BeÅŸinci hafta laboratuvar Ã§alÄ±ÅŸmalarÄ±
â”‚   â”œâ”€â”€ LAB05_Basic SQL _Manual_ _1_.pdf        # Lab manual
â”‚   â”œâ”€â”€ PROCEDURE 1 - SQL Data Definition and Data Types/
â”‚   â”‚   â””â”€â”€ procedure1_solution.sql             # VeritabanÄ± ve tablo oluÅŸturma
â”‚   â”œâ”€â”€ PROCEDURE 2 - Adding constraints to a table/
â”‚   â”‚   â””â”€â”€ procedure2_solution.sql             # Constraint'ler ve kÄ±sÄ±tlamalar
â”‚   â”œâ”€â”€ PROCEDURE 3- INSERT, DELETE, and UPDATE Statements in SQL/
â”‚   â”‚   â””â”€â”€ procedure3_solution.sql             # Veri manipÃ¼lasyonu
â”‚   â”œâ”€â”€ PROCEDURE 4 - Basic Retrieval Queries in SQL/
â”‚   â”‚   â””â”€â”€ procedure4_solution.sql             # SELECT sorgularÄ±
â”‚   â”œâ”€â”€ PROCEDURE 5 - ASSIGNMENT/
â”‚   â”‚   â”œâ”€â”€ 2200005590_assignment_procedure1.sql # Assignment A - Schema oluÅŸturma
â”‚   â”‚   â””â”€â”€ 2200005590_assignment_procedure2.sql # Assignment A - Veri iÅŸlemleri
â”‚   â”œâ”€â”€ PROCEDURE 6 - ASSIGNMENT B/
â”‚   â”‚   â”œâ”€â”€ 2200005590_assignment_b_procedure1.sql # Assignment B - Schema
â”‚   â”‚   â””â”€â”€ 2200005590_assignment_b_procedure2.sql # Assignment B - Veri iÅŸlemleri
â”‚   â”œâ”€â”€ PROCEDURE 7 - ASSIGNMENT C/
â”‚   â”‚   â”œâ”€â”€ 2200005590_assignment_c_procedure1.sql # Assignment C - Schema
â”‚   â”‚   â””â”€â”€ 2200005590_assignment_c_procedure2.sql # Assignment C - Veri iÅŸlemleri
â”‚   â””â”€â”€ PROCEDURE 8 - ASSIGNMENT D/
â”‚       â”œâ”€â”€ 2200005590_assignment_d_procedure1.sql # Assignment D - Schema
â”‚       â””â”€â”€ 2200005590_assignment_d_procedure2.sql # Assignment D - Veri iÅŸlemleri
â”œâ”€â”€ Lab06/                                       # AltÄ±ncÄ± hafta laboratuvar Ã§alÄ±ÅŸmalarÄ±
â”‚   â”œâ”€â”€ LAB06_Advanced SQL _Manual.pdf          # Lab manual
â”‚   â”œâ”€â”€ AdventureWorks2019.bak                  # Ã–rnek veritabanÄ± backup dosyasÄ±
â”‚   â”œâ”€â”€ PROCEDURE 1 - Using the JOIN operator to return data from multiple tables/
â”‚   â”‚   â””â”€â”€ Procedure1_JOIN_Solutions.sql       # JOIN iÅŸlemleri (INNER, LEFT, RIGHT)
â”‚   â”œâ”€â”€ PROCEDURE 2 - Perform aggregating, grouping, and windowing/
â”‚   â”‚   â””â”€â”€ Procedure2_Aggregation_Solutions.sql # Aggregation ve GROUP BY
â”‚   â”œâ”€â”€ PROCEDURE 3 - Nested Queries in SQL/
â”‚   â”‚   â””â”€â”€ Procedure3_NestedQueries_Solutions.sql # Subquery ve nested queries
â”‚   â”œâ”€â”€ PROCEDURE 4 - Limiting the data returned in your result set/
â”‚   â”‚   â””â”€â”€ Procedure4_LimitingData_Solutions.sql # TOP, DISTINCT, UNION
â”‚   â””â”€â”€ PROCEDURE 5 - ASSIGNMENT/               # Assignment dosyalarÄ± (32 items)
â””â”€â”€ Quiz01/                                      # Quiz 01 - Temel VeritabanÄ± KavramlarÄ±
    â”œâ”€â”€ quiz01_questions.pdf                     # Quiz sorularÄ±
    â””â”€â”€ quiz01_answers.sql                       # Quiz cevaplarÄ±
```

## ğŸ¯ Ã–ÄŸrenme Hedefleri

### Temel Konular
- **VeritabanÄ± TasarÄ±mÄ±**: ER diyagramlarÄ±, normalizasyon
- **SQL Temelleri**: SELECT, INSERT, UPDATE, DELETE iÅŸlemleri
- **Veri Modelleme**: Ä°liÅŸkisel veritabanÄ± kavramlarÄ±
- **SQL Server**: Kurulum, yapÄ±landÄ±rma ve yÃ¶netim

### Ä°leri DÃ¼zey Konular
- **Stored Procedures**: SaklÄ± yordam yazÄ±mÄ± ve kullanÄ±mÄ±
- **GÃ¼venlik YÃ¶netimi**: KullanÄ±cÄ± rolleri, yetkiler ve eriÅŸim kontrolÃ¼
- **Performans Optimizasyonu**: Ä°ndeksleme ve sorgu optimizasyonu
- **VeritabanÄ± YÃ¶netimi**: Backup, restore ve maintenance iÅŸlemleri

## ğŸ“š Laboratuvar Ã‡alÄ±ÅŸmalarÄ±

### Lab01 - SQL Server Kurulumu
- SQL Server Management Studio (SSMS) kurulumu
- VeritabanÄ± sunucusu yapÄ±landÄ±rmasÄ±
- Ä°lk baÄŸlantÄ± ve temel ayarlar

### Lab02 - Temel SQL Ä°ÅŸlemleri
- **Kapsam**: Temel SQL sorgularÄ± ve veri manipÃ¼lasyonu
- **Dosyalar**: 
  - `Database Assignment 2 - 2200005590 Onur Akyuz.pdf` - TamamlanmÄ±ÅŸ Ã¶dev
  - `LAB02 - ASSIGNMENT - B.pdf` - Ã–dev talimatlarÄ±

### Lab03 - Veri Analizi ve Raporlama
- **Kapsam**: KarmaÅŸÄ±k sorgular ve veri analizi
- **Dosyalar**:
  - `2200005590 - Onur AkyÃ¼z.png` - SonuÃ§ ekran gÃ¶rÃ¼ntÃ¼sÃ¼
  - `LAB ASSIGNMENT_WEEK3.pdf` - Ã–dev talimatlarÄ±

### Lab04 - GÃ¼venlik ve KullanÄ±cÄ± YÃ¶netimi
- **Kapsam**: VeritabanÄ± gÃ¼venliÄŸi, roller ve yetkiler
- **Dosyalar**:
  - `procedure1.sql` - Rol oluÅŸturma ve yetki atama
  - `procedure2.sql` - Login ve kullanÄ±cÄ± oluÅŸturma
  - `procedure3.sql` - Temizleme ve silme iÅŸlemleri

### Lab05 - Temel SQL ve VeritabanÄ± TasarÄ±mÄ±
- **Kapsam**: SQL DDL, DML komutlarÄ± ve veritabanÄ± yapÄ±sÄ±
- **Procedure 1**: VeritabanÄ± ve tablo oluÅŸturma (CREATE DATABASE, CREATE TABLE)
- **Procedure 2**: Constraint'ler (PRIMARY KEY, FOREIGN KEY, UNIQUE, DEFAULT)
- **Procedure 3**: Veri manipÃ¼lasyonu (INSERT, UPDATE, DELETE)
- **Procedure 4**: Veri sorgulama (SELECT, JOIN, UNION, ORDER BY)
- **Assignment A**: Thom Yorke & PJ Harvey mÃ¼zik veritabanÄ±
- **Assignment B**: David Bowie & Brian Molko mÃ¼zik veritabanÄ±
- **Assignment C**: Harun Tekin & Teoman mÃ¼zik veritabanÄ±
- **Assignment D**: Tarja Turunen & Floor Jansen mÃ¼zik veritabanÄ±

### Lab06 - Ä°leri SQL Teknikleri
- **Kapsam**: JOIN iÅŸlemleri, aggregation, subqueries ve veri filtreleme
- **VeritabanÄ±**: AdventureWorks2019
- **Procedure 1**: JOIN operatÃ¶rleri (INNER JOIN, LEFT OUTER JOIN, RIGHT OUTER JOIN)
- **Procedure 2**: Aggregation ve gruplama (SUM, AVG, COUNT, GROUP BY, HAVING)
- **Procedure 3**: Nested queries ve subqueries (WHERE subqueries, IN operatÃ¶rÃ¼)
- **Procedure 4**: Veri sÄ±nÄ±rlama (TOP, DISTINCT, UNION, NULL filtreleme)
- **Assignment**: Northwind veritabanÄ± ile pratik uygulamalar

## ğŸ“ Quiz Ã‡alÄ±ÅŸmalarÄ±

### Quiz 01 - Temel VeritabanÄ± KavramlarÄ±
- **Kapsam**: VeritabanÄ± temel kavramlarÄ±, SQL Server temelleri
- **Konular**:
  - VeritabanÄ± yÃ¶netim sistemleri (DBMS)
  - Ä°liÅŸkisel veritabanÄ± modeli
  - SQL Server mimarisi
  - Temel SQL komutlarÄ±
  - Veri tÃ¼rleri ve constraint'ler
- **Tarih**: Hafta 7
- **Durum**: TamamlandÄ± âœ…

## ğŸ”§ Teknik Detaylar

### Lab04 - GÃ¼venlik YÃ¶netimi DetaylarÄ±

#### Procedure 1: Rol OluÅŸturma ve Yetki Verme
```sql
CREATE ROLE USER_D;
GRANT ALTER, INSERT ON Sales.OrderLines TO USER_D;
GRANT UPDATE, INSERT ON Purchasing.SupplierCategories TO USER_D;
GRANT SELECT ON Application.StateProvinces TO USER_D;
```

#### Procedure 2: Login ve KullanÄ±cÄ± YÃ¶netimi
- GÃ¼venli login oluÅŸturma (`Login_D`)
- VeritabanÄ± kullanÄ±cÄ±sÄ± oluÅŸturma
- Rol Ã¼yeliÄŸi atama
- Mevcut kayÄ±tlarÄ± kontrol etme

#### Procedure 3: Temizleme Ä°ÅŸlemleri
- Yetkileri geri alma (REVOKE)
- Rol Ã¼yeliÄŸini kaldÄ±rma
- KullanÄ±cÄ± ve login silme

### Lab05 - Temel SQL DetaylarÄ±

#### Procedure 1: VeritabanÄ± ve Tablo OluÅŸturma
```sql
CREATE DATABASE TheFirstDatabase;
CREATE TABLE Employee (
    EmployeeID int NOT NULL IDENTITY(1,1),
    FirstName varchar(50) NOT NULL,
    LastName varchar(50) NOT NULL
);
```

#### Procedure 2: Constraint Ekleme
- Primary Key, Foreign Key, Unique, Default constraint'leri
- Referential integrity (veri bÃ¼tÃ¼nlÃ¼ÄŸÃ¼) saÄŸlama
- Services ve Services_by_Employees junction tablosu

#### Assignment A-D: MÃ¼zik Åirketi VeritabanlarÄ±
- **Assignment A**: Thom Yorke & PJ Harvey (MusicCompanyDB)
- **Assignment B**: David Bowie & Brian Molko (MusicCompanyDB_B)
- **Assignment C**: Harun Tekin & Teoman (MusicCompanyDB_C)
- **Assignment D**: Tarja Turunen & Floor Jansen (MusicCompanyDB_D)
- Musicians, Instruments, Plays tablolarÄ± (Many-to-Many iliÅŸki)
- Referential integrity constraint testleri

### Lab06 - Ä°leri SQL Teknikleri DetaylarÄ±

#### Procedure 1: JOIN Ä°ÅŸlemleri
```sql
-- INNER JOIN: Sadece eÅŸleÅŸen kayÄ±tlar
SELECT p.ProductID, p.Name, sd.OrderQty, sd.UnitPrice
FROM Production.Product AS p
INNER JOIN Sales.SalesOrderDetail sd ON p.ProductID = sd.ProductID;

-- LEFT OUTER JOIN: Sol tablodaki tÃ¼m kayÄ±tlar
SELECT p.ProductID, sd.ProductID, p.Name, sd.OrderQty, sd.UnitPrice
FROM Production.Product AS p
LEFT OUTER JOIN Sales.SalesOrderDetail sd ON p.ProductID = sd.ProductID;
```

#### Procedure 2: Aggregation ve Gruplama
```sql
-- SUM, AVG, COUNT fonksiyonlarÄ±
SELECT SUM(poh.TotalDue) AS [Total Due],
       AVG(poh.TotalDue) AS [Average Total Due],
       COUNT(poh.EmployeeID) [Number Of Employees]
FROM Purchasing.PurchaseOrderHeader poh;

-- GROUP BY ile gruplama
SELECT sm.Name AS ShippingMethod,
       SUM(poh.TotalDue) AS [Total Due]
FROM Purchasing.PurchaseOrderHeader poh
INNER JOIN Purchasing.ShipMethod sm ON poh.ShipMethodID = sm.ShipMethodID
GROUP BY sm.Name;
```

#### Procedure 3: Nested Queries
```sql
-- Subquery ile ortalamadan fazla vacation hours
SELECT BusinessEntityID, LoginID, JobTitle, VacationHours
FROM HumanResources.Employee E1
WHERE VacationHours > (SELECT AVG(VacationHours) 
                       FROM HumanResources.Employee E2);
```

#### Procedure 4: Veri SÄ±nÄ±rlama
```sql
-- TOP ile sÄ±nÄ±rlama
SELECT TOP(5) SalesOrderID, OrderDate, TotalDue
FROM Sales.SalesOrderHeader
ORDER BY TotalDue DESC;

-- DISTINCT ile tekrar eden deÄŸerleri kaldÄ±rma
SELECT DISTINCT p.Name AS ProductName
FROM Production.Product AS p
INNER JOIN Sales.SalesOrderDetail sd ON p.ProductID = sd.ProductID;
```

### KullanÄ±lan VeritabanlarÄ±
- **Lab04**: `WideWorldImporters`, `master`
- **Lab05**: `TheFirstDatabase`, `MusicCompanyDB`, `MusicCompanyDB_B`, `MusicCompanyDB_C`, `MusicCompanyDB_D`
- **Lab06**: `AdventureWorks2019`, `Northwind` (Assignment)

## ğŸš€ Kurulum ve Ã‡alÄ±ÅŸtÄ±rma

### Gereksinimler
- SQL Server 2019 veya Ã¼zeri
- SQL Server Management Studio (SSMS)
- WideWorldImporters Ã¶rnek veritabanÄ± (Lab04 iÃ§in)
- AdventureWorks2019 Ã¶rnek veritabanÄ± (Lab06 iÃ§in)
- Northwind Ã¶rnek veritabanÄ± (Lab06 Assignment iÃ§in)

### AdÄ±mlar
1. SQL Server'Ä± kurun ve yapÄ±landÄ±rÄ±n
2. Gerekli Ã¶rnek veritabanlarÄ±nÄ± yÃ¼kleyin:
   - WideWorldImporters (Lab04)
   - AdventureWorks2019 (Lab06)
   - Northwind (Lab06 Assignment)
3. SSMS'i aÃ§Ä±n ve sunucuya baÄŸlanÄ±n
4. Ä°lgili `.sql` dosyalarÄ±nÄ± sÄ±rasÄ±yla Ã§alÄ±ÅŸtÄ±rÄ±n

## ğŸ“Š Ã–ÄŸrenme Ã‡Ä±ktÄ±larÄ±

Bu ders sonunda aÅŸaÄŸÄ±daki becerileri kazandÄ±m:

- âœ… **VeritabanÄ± TasarÄ±mÄ±**: ER diyagramlarÄ± oluÅŸturma ve normalizasyon
- âœ… **SQL Programlama**: KarmaÅŸÄ±k sorgular yazma ve optimize etme
- âœ… **GÃ¼venlik YÃ¶netimi**: KullanÄ±cÄ± rolleri ve yetki sistemleri
- âœ… **Stored Procedures**: SaklÄ± yordam geliÅŸtirme
- âœ… **VeritabanÄ± YÃ¶netimi**: Backup, restore ve maintenance
- âœ… **Performans Tuning**: Ä°ndeksleme ve sorgu optimizasyonu

## ğŸ” Ã–nemli Notlar

### GÃ¼venlik En Ä°yi UygulamalarÄ±
- GÃ¼Ã§lÃ¼ ÅŸifre politikalarÄ± (`CHECK_POLICY = OFF` sadece test ortamÄ± iÃ§in)
- Minimum yetki prensibi (Principle of Least Privilege)
- DÃ¼zenli yetki gÃ¶zden geÃ§irmeleri
- Temizleme iÅŸlemlerinin Ã¶nemi

### SQL Server Ã–zellikleri
- Sistem katalog gÃ¶rÃ¼nÃ¼mleri (`sys.server_principals`, `sys.database_principals`)
- KoÅŸullu nesne oluÅŸturma (`IF NOT EXISTS`)
- Transaction yÃ¶netimi (`GO` komutlarÄ±)


## ğŸ“ Ä°letiÅŸim

- **GitHub**: [OnurAkyuz61](https://github.com/OnurAkyuz61)
- **Repository**: [COM5041-Database](https://github.com/OnurAkyuz61/COM5041-Database)

---

**Not**: Bu repository akademik amaÃ§larla oluÅŸturulmuÅŸtur ve Ä°stanbul KÃ¼ltÃ¼r Ãœniversitesi COM5041 Database Design and Development dersi kapsamÄ±nda yapÄ±lan Ã§alÄ±ÅŸmalarÄ± iÃ§ermektedir.